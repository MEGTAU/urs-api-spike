components:
  schemas:
    Contact:
      type: object
      description: Represents an individual. Note that specifying meaning included fields may require multiple joins so consider performance implications.
      properties:
        id:
          type: string
          format: uuid
          example: 123e4567-e89b-12d3-a456-426614174000
        firstName:
          type: string
          example: First
        middleName:
          type: string
          example: Middle
        lastName:
          type: string
          example: Last
        cdpUserId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
        createdAt:
          type: string
          format: date-time
          example: '2023-06-15T10:00:00Z'
        lastSeenAt:
          type: string
          format: date-time
          example: '2024-07-01T12:30:00Z'
        USI:
          type: string
          example: "1234567890"
        LUI:
          type: string
          example: "1234567890"
        TFN:
          type: string
          example: "123456789"
        VSN:
          type: string
          example: "123456789"
        WorkReadyParticipantNumber:
          type: string
          example: "123456789"
        SACEStudentID:
          type: string
          example: "123456A"
        contactInformation:
          type: array
          items:
            $ref: '#/components/schemas/ContactInformation'
        profiles:
          type: array
          items:
            $ref: '#/components/schemas/Profile'
        memberships:
          type: array
          items:
            type: object
        relationships:
          type: array
          items:
            $ref: '#/components/schemas/Relationship'
        systemsLinks:
          type: array
          items:
            $ref: '#/components/schemas/SystemLink'
        documents:
          type: array
          items:
            $ref: '#/components/schemas/Document'
        analyses:
          type: array
          items:
            $ref: '#/components/schemas/Analysis'
        customTraits:
          type: array
          items:
            type: object
    ContactList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Contact'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    ContactInformation:
      type: object
      description: Contains information about how the contact may be contacted.
      properties:
        id:
          type: string
          format: uuid
          example: 223e4567-e89b-12d3-a456-426614174000
        type:
          type: string
          example: email
        value:
          type: string
          example: test@example.com
        validated:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
          example: '2022-08-20T14:00:00Z'
        lastConfirmAt:
          type: string
          format: date-time
          example: '2024-01-10T09:00:00Z'
    ContactInformationList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/ContactInformation'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Profile:
      type: object
      description: Contains information about the profiles the contact has held at present and in the past
      properties:
        id:
          type: string
          format: uuid
          example: 323e4567-e89b-12d3-a456-426614174000
        type:
          type: string
          example: apprentice
        startedAt:
          type: string
          format: date-time
          example: '2023-01-15T09:00:00Z'
        completedAt:
          type: string
          format: date-time
          example: '2025-01-15T17:00:00Z'
        isActive:
          type: string
          example: 'true'
        profileInformation:
          type: object
    ProfileList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Profile'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Relationship:
      type: object
      description: Define a relationship between two contacts. The relationship will have a type (e.g. parent-child) and a profiles for each member in the relationship
      properties:
        id:
          type: string
          format: uuid
          example: 423e4567-e89b-12d3-a456-426614174000
        createdAt:
          type: string
          format: date-time
          example: '2022-03-10T11:00:00Z'
        lastConfirmAt:
          type: string
          format: date-time
          example: '2024-05-20T16:00:00Z'
        endedAt:
          type: string
          format: date-time
          example: '2025-01-01T00:00:00Z'
        primaryParty:
          type: string
          format: uuid
          example: 110e8400-e29b-41d4-a716-446655440000
        relatedParties:
          type: array
          items:
            type: string
            format: uuid
          example:
            - 220e8400-e29b-41d4-a716-446655440000
            - 330e8400-e29b-41d4-a716-446655440000
        type:
          type: string
          example: child
    RelationshipList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Relationship'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    CommunicationPreference:
      type: object
      description: Includes per-channel (e.g. SMS, email, etc) in an extensible format that can support any channel
      properties:
        id:
          type: string
          format: uuid
          example: 523e4567-e89b-12d3-a456-426614174000
        channel:
          type: string
          example: email
        allowed:
          type: boolean
          example: true
        preferred:
          type: boolean
          example: true
    CommunicationPreferenceList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/CommunicationPreference'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    SystemLink:
      type: object
      description: Each link describes a reference to the record for the contact in another ssytem, such as an SMS or LMS.
      properties:
        id:
          type: string
          format: uuid
          example: 623e4567-e89b-12d3-a456-426614174000
        system:
          type: string
          example: Canvas
        type:
          type: string
          example: lms
        systemId:
          type: string
          example: canvas_8768778
        link:
          type: string
          nullable: true
    SystemLinkList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/SystemLink'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Document:
      type: object
      description: Each document object represents a document about the user, such as a resume or cover letter.
      properties:
        id:
          type: string
          format: uuid
          example: 723e4567-e89b-12d3-a456-426614174000
        type:
          type: string
          example: resume
        link:
          type: string
          example: https://example.com/resume.pdf
        createdAt:
          type: string
          format: date-time
          example: '2023-09-01T12:00:00Z'
    DocumentList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Document'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Analysis:
      type: object
      description: Contains the results for an analysis (e.g vibrancy index classification) of the contact
      properties:
        id:
          type: string
          format: uuid
          example: 823e4567-e89b-12d3-a456-426614174000
        type:
          type: string
          example: vibrancy-index
        createdAt:
          type: string
          format: date-time
          example: '2024-03-10T10:00:00Z'
        results:
          type: object
    AnalysisList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Analysis'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Organisation:
      type: object
      description: Organisation resource
      properties:
        legalName:
          type: string
          example: Skynet Pty Ltd
        tradingName:
          type: string
          example: Skynet
        employer:
          type: object
          properties:
            employerId:
              type: string
              example: '12345678'
        worksite:
          type: object
          properties:
            address:
              type: string
              example: 123 Fake St, Gotham City
            state:
              type: string
              example: ACT
        id:
          type: string
          format: uuid
          example: f969c016-531a-4105-8c64-a84a6b9aedbc
        abn:
          type: string
          example: '12345678901'
    OrganisationList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/Organisation'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    Interaction:
      type: object
      description: An API to record interactions for future reference. Can initially implement writing to DB and then migrate to higher performance approach (e.g. using queues) if required
      properties:
        id:
          type: string
          format: uuid
          example: 923e4567-e89b-12d3-a456-426614174000
        createdAt:
          type: string
          format: date-time
          example: '2024-02-28T18:00:00Z'
        contactId:
          type: string
          format: uuid
          example: 440e8400-e29b-41d4-a716-446655440000
        payload:
          type: object
    CDPUser:
      type: object
      description: A user in the CDP backend. Every CDP user is also a Contact (but not every contact is a CDP user)
      properties:
        contactId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
        firstName:
          type: string
          example: Duncan
        lastName:
          type: string
          example: Stewart
        mobileNumber:
          type: string
          example: '+61491570006'
        middleName:
          type: string
          example: Nicholas
        dateOfBirth:
          type: string
          format: date
          example: '2008-04-29'
        id:
          type: string
          format: uuid
          example: 2a092fa1-b32a-4483-a0e7-612a89407e36
        apprentice:
          type: object
          properties:
            apprenticeId:
              type: string
              example: '1123156465'
            employerName:
              type: string
              example: QV Electrical
            usi:
              type: string
              example: 223456789N
            worksiteState:
              type: string
              example: ACT
        email:
          type: string
          example: user@example.com
        memberships:
          type: array
          items:
            type: object
            properties:
              profile:
                type: string
                example: SuperAdmin
              organisation:
                type: object
                properties:
                  tradingName:
                    type: string
                    example: tradingName
                  id:
                    type: string
                    format: uuid
                    example: e5c67a05-1662-417f-a39b-4ed245032bf2
    CDPUserList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/CDPUser'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
    MergeContactsRequest:
      type: object
      properties:
        primaryContactId:
          type: string
          format: uuid
        secondaryContactIds:
          type: array
          items:
            type: string
            format: uuid
        deleteSecondaryContactsAfterMerge:
          type: boolean
    SyncedRecord:
      type: object
      description: A record synced from an external system, identified by the system link, by background processing
      properties:
        systemLinkId:
          type: string
          format: uuid
        contactId:
          type: string
          format: uuid
        syncedRecord:
          type: object
    SyncedRecordList:
      type: object
      properties:
        entries:
          type: array
          items:
            $ref: '#/components/schemas/SyncedRecord'
        offset:
          type: integer
          format: int32
        limit:
          type: integer
          format: int32
        total_count:
          type: integer
          format: int32
  parameters:
    LimitParam:
      name: limit
      in: query
      description: The number of items to return.
      schema:
        type: integer
        format: int32
    OffsetParam:
      name: offset
      in: query
      description: The number of items to skip before starting to collect the result set.
      schema:
        type: integer
        format: int32
